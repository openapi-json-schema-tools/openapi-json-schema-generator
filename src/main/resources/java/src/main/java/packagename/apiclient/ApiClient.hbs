package {{packageName}}.apiclient;

import org.checkerframework.checker.nullness.qual.Nullable;
import {{packageName}}.configurations.ApiConfiguration;
import {{packageName}}.configurations.SchemaConfiguration;

import java.net.http.HttpClient;
import java.time.Duration;

public class ApiClient {

    public static class ApiClient1 {
        protected final ApiConfiguration apiConfiguration;
        protected final SchemaConfiguration schemaConfiguration;
        protected final HttpClient client;

        public ApiClient1(ApiConfiguration apiConfiguration, SchemaConfiguration schemaConfiguration) {
            this.apiConfiguration = apiConfiguration;
            this.schemaConfiguration = schemaConfiguration;
            @Nullable Duration timeout = apiConfiguration.getTimeout();
            if (timeout != null) {
                this.client = HttpClient.newBuilder()
                    .connectTimeout(timeout)
                    .build();
            } else {
                this.client = HttpClient.newHttpClient();
            }
        }

        public ApiConfiguration getApiConfiguration() {
            return apiConfiguration;
        }

        public SchemaConfiguration getSchemaConfiguration() {
            return schemaConfiguration;
        }

        public HttpClient getClient() {
            return client;
        }
    }
}
